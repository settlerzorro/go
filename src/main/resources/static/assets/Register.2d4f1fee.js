import{g as e,d as a,b as r,u as s,r as o,o as l,i as t,j as m,k as p,w as d,L as n,H as i,p as u,q as c,m as g}from"./vendor.ce047f19.js";import{_ as f,O as w}from"./index.3af46441.js";const v={setup(){localStorage.removeItem("ms_username"),localStorage.removeItem("ms_userid"),localStorage.removeItem("ms_userRole");const o=e(),l=a({username:"",password:"",password2:""}),t=r(null);s().commit("clearTags");return{param:l,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],password2:[{required:!0,message:"请输入确认密码",trigger:"blur"}]},login:t,submitForm:()=>{t.value.validate((e=>{if(!e)return i.error("请输入用户名或密码"),!1;l.password2===l.password&&w(l).then((e=>{0==e.code?n.confirm("注册成功，是否登录？","注册成功提示",{confirmButtonText:"是",cancelButtonText:"否",type:"success"}).then((()=>{o.push("/login")})).catch((()=>{})):i.error(e.message)}))}))},toLogin:()=>{o.push("/login")}}}},_={class:"login-wrap"},b={class:"ms-login"},h=(e=>(u("data-v-48c5a112"),e=e(),c(),e))((()=>m("div",{class:"ms-title"},"注册",-1))),V={style:{"text-align":"right","margin-bottom":"8px"}},x={class:"login-btn"},y=g("注册");var k=f(v,[["render",function(e,a,r,s,n,i){const u=o("el-button"),c=o("el-input"),g=o("el-form-item"),f=o("el-form");return l(),t("div",_,[m("div",b,[h,p(f,{model:s.param,rules:s.rules,ref:"login","label-width":"0px",class:"ms-content"},{default:d((()=>[p(g,{prop:"username"},{default:d((()=>[p(c,{modelValue:s.param.username,"onUpdate:modelValue":a[0]||(a[0]=e=>s.param.username=e),placeholder:"用户名"},{prepend:d((()=>[p(u,{icon:"el-icon-user"})])),_:1},8,["modelValue"])])),_:1}),p(g,{prop:"password"},{default:d((()=>[p(c,{type:"password",placeholder:"密码",modelValue:s.param.password,"onUpdate:modelValue":a[1]||(a[1]=e=>s.param.password=e)},{prepend:d((()=>[p(u,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),p(g,{prop:"password2"},{default:d((()=>[p(c,{type:"password",placeholder:"确认密码",modelValue:s.param.password2,"onUpdate:modelValue":a[2]||(a[2]=e=>s.param.password2=e)},{prepend:d((()=>[p(u,{icon:"el-icon-lock"})])),_:1},8,["modelValue"])])),_:1}),m("div",V,[m("p",{style:{"font-size":"12px",cursor:"pointer",color:"#3882e5"},onClick:a[3]||(a[3]=(...e)=>s.toLogin&&s.toLogin(...e))}," 已有账号，登录 ")]),m("div",x,[p(u,{type:"primary",onClick:a[4]||(a[4]=e=>s.submitForm())},{default:d((()=>[y])),_:1})])])),_:1},8,["model","rules"])])])}],["__scopeId","data-v-48c5a112"]]);export{k as default};
